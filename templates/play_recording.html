<!DOCTYPE html>
<html lang="en">
  <head>
    <title>{{ file_name }}</title>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <meta name="google" content="notranslate" />
    <link href="https://cdn.jsdelivr.net/npm/beercss@3.7.14/dist/cdn/beer.min.css" rel="stylesheet" />
    <script type="module" src="https://cdn.jsdelivr.net/npm/beercss@3.7.14/dist/cdn/beer.min.js"></script>
    <script type="module" src="https://cdn.jsdelivr.net/npm/material-dynamic-colors@1.1.2/dist/cdn/material-dynamic-colors.min.js"></script>
    <link rel="stylesheet" type="text/css" href="/static/css/theme.css" />
    <link rel="stylesheet" type="text/css" href="/static/css/style.css" />
    <link href="https://cdn.jsdelivr.net/npm/@mdi/font@7.4.47/css/materialdesignicons.min.css" rel="stylesheet" />
    <link rel="icon" href="/static/icon.png" />
    <title>{{ title }}</title>
    <meta property="og:title" content="HBNI Audio Archive - {{ title }}" />
    <meta property="og:url" content="https://audioarchives.hbni.net" />
    <meta property="og:image" content="https://audioarchives.hbni.net/static/hbnilogo.png" />
    <meta property="og:description" content="{{ file_name }}" />
  </head>

  <body class="dark">
    <header class="fixed primary" id="header">
      <nav>
        <button class="circle transparent" onclick="location.href='/';"><i>arrow_back</i></button>
        <h5 class="max">{{ title }}</h5>
        <button class="circle transparent" onclick="mode()" id="toggle-theme"><i>dark_mode</i></button>
      </nav>
    </header>
    <div class="overlay blur"></div>
    <dialog class="left" id="info-dialog">
      <nav class="right-align">
        <button class="circle transparent" onclick="ui('#info-dialog');"><i>close</i></button>
      </nav>
      <p>Visit Count: {{ visit_count }}</p>
      <p>Latest Visit: {{ latest_visit }}</p>
    </dialog>
    <main class="responsive center-align middle-align">
      <article class="no-padding medium-width" id="main-article">
        <div class="center-align" style="background-color: var(--primary)">
          <h1 class="extra music-note">â™«</h1>
        </div>
        <div class="left-align">
          <button class="chip circle link no-padding tiny-margin no-border" onclick="ui('#info-dialog');"><i>info</i></button>
        </div>
        <div class="padding">
          <div class="center-align">{{ file_name.replace('_', ':').replace('.mp3', '') }}</div>
          <div class="left-align">
            <i>artist</i> {{ title }}
          </div>
          <div class="row max">
            <label class="checkbox icon">
              <input type="checkbox" id="play-button" />
              <span>
                <i>play_arrow</i>
                <i>pause</i>
              </span>
            </label>
            <label class="slider">
              <input type="range" max="100" value="0" id="timeline" />
              <span></span>
            </label>
            <label class="checkbox icon">
              <input type="checkbox" id="sound-button" />
              <span>
                <i>volume_up</i>
                <i>volume_off</i>
              </span>
            </label>
          </div>
          <div class="center-align middle-align">
            <span id="current-time">00:00</span>/
            <span id="total-time">00:00</span>
          </div>
          <nav>
            <div class="grid max">
              <button class="small-round responsive s6 m6 l6" id="download-button" data-url="{{ url_for(file_name) }}">
                <i>download</i>
                <span>Download</span>
              </button>
              <button class="small-round responsive s6 m6 l6" onclick="sharePage()">
                <i>share</i>
                <span>Share</span>
              </button>
            </div>
          </nav>
        </div>
        <canvas id="canvas" style="width: 100%; height: 100px"></canvas>
      </article>
      <audio class="audio" id="audio">
        <source src="{{ url_for(file_name) }}" type="audio/mpeg" />
      </audio>
    </main>
    <script type="text/javascript" src="/static/js/play_recording.js"></script>
  </body>
</html>
